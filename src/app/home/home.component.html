<main class="home-container">
    <h1>¡Bienvenido a Mi App!</h1>
    <app-carousel [slides]="bannerImages"></app-carousel>
    
    <!-- Sección del anuncio cargado desde Firestore -->
    <h2 style="margin-top: 30px; border-bottom: 2px solid #3b82f6; padding-bottom: 10px;">
        Anuncios Destacados de Firestore
    </h2>

    <!-- 
      Usamos el pipe 'async' para suscribirnos a coches$ y obtener los datos.
      La variable local 'coches' tendrá la lista de documentos.
    -->
    <div class="anuncios-grid" *ngIf="coches$ | async as coches">
        
        <!-- Recorremos la lista de coches (el *ngFor) -->
        <div class="anuncio" *ngFor="let coche of coches" style="border: 1px solid #ccc; padding: 15px; margin: 10px; border-radius: 8px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); background-color: #f9f9f9;">
            <h3>{{ coche.marca }} {{ coche.modelo }}</h3>
            <!-- El pipe currency formatea el número como moneda EUR -->
            <p style="font-weight: bold; color: #10b981;">Precio: {{ coche.precio | currency:'EUR':'symbol':'1.0-0' }}</p>
            <p><small style="color: #6b7280;">ID de Firestore: {{ coche.id }}</small></p>
        </div>

        <!-- Mensaje si la base de datos está vacía (aunque la conexión funcione) -->
        <div *ngIf="coches.length === 0">
            <p>No se encontraron anuncios de coches en la base de datos.</p>
        </div>
    </div>
    
    <p>
        Este es el componente "home", que actúa como el contenido principal (el body)
        de tu página de inicio.
    </p>
    
    <button>Conoce más</button>
    <h2>Lo que dicen los clientes</h2>

</main>